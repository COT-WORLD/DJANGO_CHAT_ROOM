{% load static %}
{%for room in rooms%}
<div class="card chat-room-card">
    <div class="card-body">
        <a href="{% url 'user-profile' room.host.id %}">
            <div class="user-info d-flex align-items-center">
                <img src="{% if room.host.avatar %} {{room.host.avatar.url}} {% else %} {% static 'images/avatar.svg' %} {% endif %}"
                    alt="User Avatar">
                {% if room.host.first_name %}
                <span class="username me-2">@{{room.host.first_name}}</span>
                {% else %}
                <span class="username me-2">@{{room.host.username}}</span>
                {% endif %}
        </a>
        <small class="room-created ms-auto">{{room.created_at|timesince}} ago</small>
    </div>
    <h5 class="card-title"><a href="{% url 'room' room.id %}">{{room.name}}</a></h5>
    <hr class="my-3">
    <div class="room-meta d-flex justify-content-between align-items-center mt-2">
        <span><i class="fas fa-users me-1"></i> {{room.participant_count}} Joined</span>
        <span class="badge">{{room.topic.name}}</span>
    </div>
</div>
</div>
{%endfor%}